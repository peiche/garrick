////
/// Media text block.
///
/// @group  Blocks
/// @author Paul Eiche <paul@boldoak.design>
/// @link   https://boldoak.design/themes/trunc
////
.wp-block-media-text {
	display: block;
	grid-template-rows: auto;
	grid-template-areas: "media-text-media media-text-content";
	grid-template-columns: 50% auto;

	@include breakpoint(sm) {
		display: grid;
	}

	&.is-vertically-aligned-top {
		align-items: flex-start;
	}

	&.is-vertically-aligned-center {
		align-items: center;
	}

	&.is-vertically-aligned-bottom {
		align-items: flex-end;
	}

	&.has-media-on-the-right {
		grid-template-areas: "media-text-content media-text-media";
		grid-template-columns: auto 50%;
	}

	> .wp-block-media-text__media {
		grid-area: media-text-media;
		margin: 0;
	}

	> .wp-block-media-text__content {
		word-break: break-word;
		grid-area: media-text-content;
		padding: var(--space-sm) 8%;

		> *:last-child {
			margin-bottom: 0;
		}
	}

	> figure > img,
	> figure > video {
		max-width: unset;
		width: 100%;
		vertical-align: middle;
	}
}

@include breakpoint(sm) {

	.wp-block-media-text.is-stacked-on-mobile {
		grid-template-columns: 100% !important; // Overwrite core's inline style.
		grid-template-areas: "media-text-media" "media-text-content";
	}

	.wp-block-media-text.is-stacked-on-mobile.has-media-on-the-right {
		grid-template-areas: "media-text-content" "media-text-media";
	}
}
