////
/// Image block.
///
/// @group  Core
/// @author Paul Eiche <paul@boldoak.design>
/// @link   https://boldoak.design/themes/garrick
////

@use '../../tools/extends';

.wp-block-image {
	margin-top: var(--component-padding);
	margin-bottom: var(--component-padding);

	img {
		max-width: 100%;
		display: block;
		margin: auto;
	}

	.aligncenter img {
		margin: auto;
	}

	.alignleft {

		// Using `breakpoints.breakpoint()` breaks purgecss-whitelister
		@media (min-width: 64rem) {
			margin-left: -15%;
		}

		// Using `breakpoints.breakpoint()` breaks purgecss-whitelister
		@media (min-width: 80rem) {
			margin-left: -30%;
		}
	}

	.alignright {

		// Using `breakpoints.breakpoint()` breaks purgecss-whitelister
		@media (min-width: 64rem) {
			margin-right: -15%;
		}

		// Using `breakpoints.breakpoint()` breaks purgecss-whitelister
		@media (min-width: 80rem) {
			margin-right: -30%;
		}
	}

	&.rounded img {
		border-radius: var(--radius);
	}

	&.rounded--circle img {
		border-radius: 50%;
	}

	&.is-style-circle-mask,
	&.rounded--circle {

		img {
			// A pill-shape prevents the oval shape that
			// a circular border radius would give.
			border-radius: var(--radius-pill);

			// If a browser supports it, we will switch to using a circular SVG mask.
			@supports (mask-image: none) or (-webkit-mask-image: none) {
				mask-image: url(../svg/circle-mask.svg);
				mask-mode: alpha;
				mask-repeat: no-repeat;
				mask-size: contain;
				mask-position: center;
				border-radius: 0;
			}
		}
	}

	figcaption {
		@extend %caption;
	}

	.is-resized {}
}
